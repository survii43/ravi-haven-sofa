{"ast":null,"code":"var _jsxFileName = \"/home/sourav_choudhary/Desktop/havensofa/haven-sofa/src/admin/Dashboard.js\",\n  _s = $RefreshSig$();\n// import React from 'react';\n// import { useEffect, useState } from 'react';\n// import firebase from 'firebase/compat/app';\n// import 'firebase/compat/auth';\n\n// export default function Dashboard() {\n//     const [user, setUser] = useState(null);\n\n//     useEffect(() => {\n//       const unsubscribe = firebase.auth().onAuthStateChanged((user) => {\n//         setUser(user);\n//       });\n//       return unsubscribe;\n//     }, []);\n\n//     return (\n//       <div>\n//         {user ? <p>Welcome, {user.email}</p> : <Login />}\n//       </div>\n//     );\n//   }\n\nimport React, { useState, useEffect } from 'react';\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/database'; //AdminLogin\nimport AdminLogin from '../admin/AdminLogin';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Dashboard() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [images, setImages] = useState([]);\n  useEffect(() => {\n    const unsubscribe = firebase.auth().onAuthStateChanged(user => {\n      setUser(user);\n    });\n    return unsubscribe;\n  }, []);\n  useEffect(() => {\n    // Fetch images from Firebase Database based on user's folder\n    const fetchImages = async () => {\n      if (user) {\n        const snapshot = await firebase.database().ref(`images/${user.uid}`).once('value');\n        if (snapshot.exists()) {\n          setImages(snapshot.val());\n        }\n      }\n    };\n    fetchImages();\n  }, [user]);\n  const handleLogout = () => {\n    firebase.auth().signOut();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: user ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Welcome, \", user.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        lassName: \"w-full bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600\",\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Image Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"URL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: Object.keys(images).map(key => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: images[key].name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: images[key].url\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 19\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(AdminLogin, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"J6GnxdR/tXYpzmEEFD7fPxanKE4=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","firebase","AdminLogin","jsxDEV","_jsxDEV","Dashboard","_s","user","setUser","images","setImages","unsubscribe","auth","onAuthStateChanged","fetchImages","snapshot","database","ref","uid","once","exists","val","handleLogout","signOut","children","email","fileName","_jsxFileName","lineNumber","columnNumber","lassName","onClick","Object","keys","map","key","name","url","_c","$RefreshReg$"],"sources":["/home/sourav_choudhary/Desktop/havensofa/haven-sofa/src/admin/Dashboard.js"],"sourcesContent":["// import React from 'react';\n// import { useEffect, useState } from 'react';\n// import firebase from 'firebase/compat/app';\n// import 'firebase/compat/auth';\n\n\n// export default function Dashboard() {\n//     const [user, setUser] = useState(null);\n\n//     useEffect(() => {\n//       const unsubscribe = firebase.auth().onAuthStateChanged((user) => {\n//         setUser(user);\n//       });\n//       return unsubscribe;\n//     }, []);\n  \n//     return (\n//       <div>\n//         {user ? <p>Welcome, {user.email}</p> : <Login />}\n//       </div>\n//     );\n//   }\n\nimport React, { useState, useEffect } from 'react';\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/database';//AdminLogin\nimport AdminLogin from '../admin/AdminLogin';\n\nfunction Dashboard() {\n  const [user, setUser] = useState(null);\n  const [images, setImages] = useState([]);\n\n  useEffect(() => {\n    const unsubscribe = firebase.auth().onAuthStateChanged((user) => {\n      setUser(user);\n    });\n    return unsubscribe;\n  }, []);\n\n  useEffect(() => {\n    // Fetch images from Firebase Database based on user's folder\n    const fetchImages = async () => {\n      if (user) {\n        const snapshot = await firebase.database().ref(`images/${user.uid}`).once('value');\n        if (snapshot.exists()) {\n          setImages(snapshot.val());\n        }\n      }\n    };\n\n    fetchImages();\n  }, [user]);\n\n  const handleLogout = () => {\n    firebase.auth().signOut();\n  };\n\n  return (\n    <div>\n      {user ? (\n        <div>\n          <p>Welcome, {user.email}</p>\n          <button lassName=\"w-full bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600\"onClick={handleLogout}>Logout</button>\n          <table>\n            <thead>\n              <tr>\n                <th>Image Name</th>\n                <th>URL</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {Object.keys(images).map((key) => (\n                <tr key={key}>\n                  <td>{images[key].name}</td>\n                  <td>{images[key].url}</td>\n                  <td>\n                    <button>Edit</button>\n                    <button>Delete</button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      ) : (\n        <AdminLogin />\n      )}\n    </div>\n  );\n}\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}